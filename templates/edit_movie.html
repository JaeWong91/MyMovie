{% extends "base.html" %}
{% block content %}

    <h3 class="center-align">Edit Movie</h3>

    <div class="container">
        <div class="row card-panel blue-grey darken-3">
            <!--The 'movie_id' will be equal to our current 'movie' being modified, and using dot-notation,
            we want to target its specific '_id' key from the document. e.g "movie_id=movie._id"-->
            <form class="col s12" method="POST" action="{{ url_for('edit_movie', movie_id=movie._id) }}">
                <!-- movie title -->
                <div class="row">
                    <div class="input-field col s12">
                        <input id="movie_name" name="movie_name" type="text" minlength="4" 
                            maxlength="50" value="{{ movie.movie_name }}" class="validate white-text" required>
                        <label for="movie_name">Movie Title</label>
                        <span class="helper-text blue-text text-lighten-2">
                            Enter the title of the Movie
                        </span>
                    </div>
                </div>
                <!-- year of movie release -->
                <div class="row">
                    <div class="input-field col s12">   <!-- try to find a way to set max to "this year" -->
                        <input id="year" name="year" type="number" min="1850" 
                            max="2021" value="{{ movie.year }}" class="validate white-text" required>
                        <label for="year">Year of Release</label>
                        <!-- <span class="helper-text blue-text text-lighten-2">Enter the year the movie had released</span> -->
                    </div>
                </div>
                <!-- genre -->
                <div class="row">
                    <div class="input-field col s12">
                        <input id="genre" name="genre" type="text" minlength="4" 
                            maxlength="30" value="{{ movie.genre }}" class="validate white-text" required>
                        <label for="genre">Genre</label>
                        <span class="helper-text blue-text text-lighten-2">
                            More than one genre is allowed.
                        </span>
                    </div>
                </div>
                <!-- director -->
                <div class="row">
                    <div class="input-field col s12">
                        <input id="director" name="director" type="text" minlength="3" 
                            maxlength="50" value="{{ movie.director }}" class="validate white-text" required>
                        <label for="director">Director(s)</label>
                        <span class="helper-text blue-text text-lighten-2">
                            Multiple directors are allowed.
                        </span>
                    </div>
                </div>
                <!-- cast -->
                <div class="row">
                    <div class="input-field col s12">
                        <input id="cast" name="cast" type="text" minlength="5" 
                            maxlength="100" value="{{ movie.cast }}" class="validate white-text" required>
                        <label for="cast">Cast</label>
                        <span class="helper-text blue-text text-lighten-2">
                            Enter the main cast of the movie. Multiple actors/actresses are allowed.
                        </span>
                    </div>
                </div>
                <!-- movie URL image -->
                <div class="row">
                    <div class="input-field col s12">
                        <input id="image" name="image" type="url" value="{{ movie.image }}" 
                            class="validate white-text" required>
                        <label for="image">Image URL</label>
                        <span class="helper-text blue-text text-lighten-2">
                            Add a URL image for the movie.
                        </span>
                    </div>
                </div>
                <!-- submit button-->
                <div class="row">
                    <div class="col s12 center-align">
                        <!-- cancel button -->
                        <a href="{{ url_for('movie_page', movie_name=movie.movie_name) }}" 
                            class="btn-large red">
                            Cancel <i class="fas fa-times-circle right white-text "></i></a>
                        <button type="submit" class="btn-large green accent-4">
                            Edit Movie <i class="fas fa-edit right white-text"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

{% endblock %}